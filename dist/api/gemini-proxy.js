function a0_0x1c3d(){const _0x430fef=['user','12hqhiqh','Serverless\x20Function\x20Error:\x20GEMINI_API_KEY\x20environment\x20variable\x20is\x20not\x20set\x20on\x20Vercel.','10353980bTLbxT','2808560ErJSuS','application/json','https://generativelanguage.googleapis.com/v1beta/models/','method','Error\x20from\x20Gemini\x20API.','status','text',':generateContent?key=','json','error','Server\x20configuration\x20error:\x20Gemini\x20API\x20Key\x20not\x20found.\x20Please\x20ensure\x20GEMINI_API_KEY\x20is\x20set\x20in\x20Vercel\x20environment\x20variables.','parts','length','12025728jTCVyS','candidates','Serverless\x20Function:\x20Gemini\x20API\x20returned\x20a\x20non-OK\x20status.\x20Status:','content','POST','Message\x20content\x20is\x20required.','stringify','1543976PMKtkk','Response:','601446wJUggu','177286kxyuJv','Serverless\x20Function:\x20Gemini\x20API\x20returned\x20a\x20successful\x20status\x20(OK)\x20but\x20an\x20unexpected\x20response\x20structure:','Serverless\x20Function\x20Error:\x20Exception\x20during\x20Gemini\x20API\x20call:','warn','2048386boKaYJ','Method\x20Not\x20Allowed'];a0_0x1c3d=function(){return _0x430fef;};return a0_0x1c3d();}function a0_0x5890(_0x5d020b,_0x2082fe){const _0x1c3d3c=a0_0x1c3d();return a0_0x5890=function(_0x58900f,_0x32e644){_0x58900f=_0x58900f-0x11f;let _0x19b98b=_0x1c3d3c[_0x58900f];return _0x19b98b;},a0_0x5890(_0x5d020b,_0x2082fe);}(function(_0x21fbf5,_0x380574){const _0x1b0b2e=a0_0x5890,_0x555172=_0x21fbf5();while(!![]){try{const _0x4193db=-parseInt(_0x1b0b2e(0x12f))/0x1+-parseInt(_0x1b0b2e(0x133))/0x2+-parseInt(_0x1b0b2e(0x136))/0x3*(-parseInt(_0x1b0b2e(0x12c))/0x4)+parseInt(_0x1b0b2e(0x139))/0x5+parseInt(_0x1b0b2e(0x12e))/0x6+parseInt(_0x1b0b2e(0x138))/0x7+-parseInt(_0x1b0b2e(0x125))/0x8;if(_0x4193db===_0x380574)break;else _0x555172['push'](_0x555172['shift']());}catch(_0xd31f42){_0x555172['push'](_0x555172['shift']());}}}(a0_0x1c3d,0xef596));export default async function handler(_0x108271,_0x300d1b){const _0x34f800=a0_0x5890;if(_0x108271[_0x34f800(0x13c)]!=='POST')return _0x300d1b[_0x34f800(0x13e)](0x195)[_0x34f800(0x120)]({'message':_0x34f800(0x134),'success':![]});const {message:_0x49296d}=_0x108271['body'];if(!_0x49296d)return _0x300d1b['status'](0x190)[_0x34f800(0x120)]({'message':_0x34f800(0x12a),'success':![]});const _0x181868=process['env']['GEMINI_API_KEY'],_0x36c7f4='gemini-2.0-flash';if(!_0x181868)return console[_0x34f800(0x121)](_0x34f800(0x137)),_0x300d1b[_0x34f800(0x13e)](0x1f4)[_0x34f800(0x120)]({'message':_0x34f800(0x122),'success':![]});try{const _0x3fe9a9=[{'role':_0x34f800(0x135),'parts':[{'text':_0x49296d}]}],_0x3eb781={'contents':_0x3fe9a9},_0x3a6b3d=_0x34f800(0x13b)+_0x36c7f4+_0x34f800(0x11f)+_0x181868,_0x56a578=await fetch(_0x3a6b3d,{'method':_0x34f800(0x129),'headers':{'Content-Type':_0x34f800(0x13a)},'body':JSON[_0x34f800(0x12b)](_0x3eb781)}),_0x5f05b5=await _0x56a578['json']();if(!_0x56a578['ok'])return console[_0x34f800(0x121)](_0x34f800(0x127),_0x56a578[_0x34f800(0x13e)],_0x34f800(0x12d),JSON[_0x34f800(0x12b)](_0x5f05b5)),_0x300d1b[_0x34f800(0x13e)](_0x56a578['status'])[_0x34f800(0x120)]({'message':_0x34f800(0x13d),'success':![],'details':_0x5f05b5});if(_0x5f05b5[_0x34f800(0x126)]&&_0x5f05b5[_0x34f800(0x126)][_0x34f800(0x124)]>0x0&&_0x5f05b5[_0x34f800(0x126)][0x0][_0x34f800(0x128)]&&_0x5f05b5[_0x34f800(0x126)][0x0][_0x34f800(0x128)]['parts']&&_0x5f05b5['candidates'][0x0]['content'][_0x34f800(0x123)][_0x34f800(0x124)]>0x0){const _0x29b6ae=_0x5f05b5['candidates'][0x0][_0x34f800(0x128)][_0x34f800(0x123)][0x0][_0x34f800(0x13f)];return _0x300d1b[_0x34f800(0x13e)](0xc8)['json']({'text':_0x29b6ae,'success':!![]});}else return console[_0x34f800(0x132)](_0x34f800(0x130),JSON[_0x34f800(0x12b)](_0x5f05b5)),_0x300d1b[_0x34f800(0x13e)](0x1f6)[_0x34f800(0x120)]({'message':'Failed\x20to\x20get\x20a\x20valid\x20response\x20from\x20Gemini\x20AI.\x20Unexpected\x20response\x20structure.','success':![],'details':_0x5f05b5});}catch(_0x1e0b04){return console['error'](_0x34f800(0x131),_0x1e0b04),_0x300d1b[_0x34f800(0x13e)](0x1f4)[_0x34f800(0x120)]({'message':'An\x20internal\x20server\x20error\x20occurred\x20while\x20contacting\x20Gemini\x20API:\x20'+_0x1e0b04['message'],'success':![]});}}