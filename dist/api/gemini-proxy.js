function a0_0x1db2(_0x289cef,_0x3e6ae1){const _0x2fc84f=a0_0x2fc8();return a0_0x1db2=function(_0x1db2b1,_0x38c395){_0x1db2b1=_0x1db2b1-0xe3;let _0x48df9=_0x2fc84f[_0x1db2b1];return _0x48df9;},a0_0x1db2(_0x289cef,_0x3e6ae1);}(function(_0x560c29,_0x1c7cfd){const _0xd427ef=a0_0x1db2,_0x242fc8=_0x560c29();while(!![]){try{const _0x326cae=parseInt(_0xd427ef(0xed))/0x1*(-parseInt(_0xd427ef(0xea))/0x2)+-parseInt(_0xd427ef(0x104))/0x3*(parseInt(_0xd427ef(0xf1))/0x4)+parseInt(_0xd427ef(0xe9))/0x5+-parseInt(_0xd427ef(0x101))/0x6+-parseInt(_0xd427ef(0xf6))/0x7+parseInt(_0xd427ef(0xff))/0x8+parseInt(_0xd427ef(0x103))/0x9;if(_0x326cae===_0x1c7cfd)break;else _0x242fc8['push'](_0x242fc8['shift']());}catch(_0xa77fb2){_0x242fc8['push'](_0x242fc8['shift']());}}}(a0_0x2fc8,0x9e5a7));function a0_0x2fc8(){const _0x59346c=['text','Serverless\x20Function:\x20Gemini\x20API\x20returned\x20a\x20successful\x20status\x20(OK)\x20but\x20an\x20unexpected\x20response\x20structure:','Serverless\x20Function:\x20Gemini\x20API\x20returned\x20a\x20non-OK\x20status.\x20Status:','warn',':generateContent?key=','6616592dnFLMT','status','6857430ntmIXL','GEMINI_API_KEY','17945910byzSFp','32208aWbUXn','stringify','POST','json','Method\x20Not\x20Allowed','body','gemini-2.0-flash','method','592925DijmEo','1992968OJhZpE','Failed\x20to\x20get\x20a\x20valid\x20response\x20from\x20Gemini\x20AI.\x20Unexpected\x20response\x20structure.','message','1tkgNvt','error','length','env','16ZxjJPu','An\x20internal\x20server\x20error\x20occurred\x20while\x20contacting\x20Gemini\x20API:\x20','application/json','Server\x20configuration\x20error:\x20Gemini\x20API\x20Key\x20not\x20found.\x20Please\x20ensure\x20GEMINI_API_KEY\x20is\x20set\x20in\x20Vercel\x20environment\x20variables.','parts','760907vfUHfG','Serverless\x20Function\x20Error:\x20Exception\x20during\x20Gemini\x20API\x20call:','content','candidates'];a0_0x2fc8=function(){return _0x59346c;};return a0_0x2fc8();}export default async function handler(_0x3b61cb,_0x251919){const _0x3856bb=a0_0x1db2;if(_0x3b61cb[_0x3856bb(0xe8)]!==_0x3856bb(0xe3))return _0x251919[_0x3856bb(0x100)](0x195)[_0x3856bb(0xe4)]({'message':_0x3856bb(0xe5),'success':![]});const {message:_0x315662}=_0x3b61cb[_0x3856bb(0xe6)];if(!_0x315662)return _0x251919[_0x3856bb(0x100)](0x190)[_0x3856bb(0xe4)]({'message':'Message\x20content\x20is\x20required.','success':![]});const _0x38c4d2=process[_0x3856bb(0xf0)][_0x3856bb(0x102)],_0x16a838=_0x3856bb(0xe7);if(!_0x38c4d2)return console[_0x3856bb(0xee)]('Serverless\x20Function\x20Error:\x20GEMINI_API_KEY\x20environment\x20variable\x20is\x20not\x20set\x20on\x20Vercel.'),_0x251919['status'](0x1f4)[_0x3856bb(0xe4)]({'message':_0x3856bb(0xf4),'success':![]});try{const _0xf3f204=[{'role':'user','parts':[{'text':_0x315662}]}],_0x51c3a6={'contents':_0xf3f204},_0x4c5b42='https://generativelanguage.googleapis.com/v1beta/models/'+_0x16a838+_0x3856bb(0xfe)+_0x38c4d2,_0x32be57=await fetch(_0x4c5b42,{'method':'POST','headers':{'Content-Type':_0x3856bb(0xf3)},'body':JSON[_0x3856bb(0x105)](_0x51c3a6)}),_0x49edc9=await _0x32be57['json']();if(!_0x32be57['ok'])return console[_0x3856bb(0xee)](_0x3856bb(0xfc),_0x32be57[_0x3856bb(0x100)],'Response:',JSON[_0x3856bb(0x105)](_0x49edc9)),_0x251919['status'](_0x32be57[_0x3856bb(0x100)])['json']({'message':'Error\x20from\x20Gemini\x20API.','success':![],'details':_0x49edc9});if(_0x49edc9[_0x3856bb(0xf9)]&&_0x49edc9['candidates'][_0x3856bb(0xef)]>0x0&&_0x49edc9[_0x3856bb(0xf9)][0x0]['content']&&_0x49edc9[_0x3856bb(0xf9)][0x0][_0x3856bb(0xf8)][_0x3856bb(0xf5)]&&_0x49edc9[_0x3856bb(0xf9)][0x0]['content'][_0x3856bb(0xf5)][_0x3856bb(0xef)]>0x0){const _0x59a444=_0x49edc9['candidates'][0x0][_0x3856bb(0xf8)][_0x3856bb(0xf5)][0x0][_0x3856bb(0xfa)];return _0x251919['status'](0xc8)[_0x3856bb(0xe4)]({'text':_0x59a444,'success':!![]});}else return console[_0x3856bb(0xfd)](_0x3856bb(0xfb),JSON[_0x3856bb(0x105)](_0x49edc9)),_0x251919[_0x3856bb(0x100)](0x1f6)[_0x3856bb(0xe4)]({'message':_0x3856bb(0xeb),'success':![],'details':_0x49edc9});}catch(_0x411945){return console[_0x3856bb(0xee)](_0x3856bb(0xf7),_0x411945),_0x251919[_0x3856bb(0x100)](0x1f4)[_0x3856bb(0xe4)]({'message':_0x3856bb(0xf2)+_0x411945[_0x3856bb(0xec)],'success':![]});}}