function a0_0x412e(_0x366752,_0xd5e1e8){const _0x246590=a0_0x2465();return a0_0x412e=function(_0x412e17,_0x239e84){_0x412e17=_0x412e17-0xbc;let _0x1f7798=_0x246590[_0x412e17];return _0x1f7798;},a0_0x412e(_0x366752,_0xd5e1e8);}function a0_0x2465(){const _0x29f842=['Method\x20Not\x20Allowed','6QPOEph',':generateContent?key=','Error\x20from\x20Gemini\x20API.','body','length','390852swTYMc','Serverless\x20Function\x20Error:\x20GEMINI_API_KEY\x20environment\x20variable\x20is\x20not\x20set\x20on\x20Vercel.','warn','status','4QrJtwf','1092545vwpqfw','method','2366568zRVcaT','GEMINI_API_KEY','error','stringify','candidates','json','message','151497YYsuhv','Serverless\x20Function:\x20Gemini\x20API\x20returned\x20a\x20successful\x20status\x20(OK)\x20but\x20an\x20unexpected\x20response\x20structure:','Message\x20content\x20is\x20required.','POST','Failed\x20to\x20get\x20a\x20valid\x20response\x20from\x20Gemini\x20AI.\x20Unexpected\x20response\x20structure.','https://generativelanguage.googleapis.com/v1beta/models/','content','1781970HAdddQ','parts','259087Bnegcs','169925lEvOWw','Serverless\x20Function\x20Error:\x20Exception\x20during\x20Gemini\x20API\x20call:','text','An\x20internal\x20server\x20error\x20occurred\x20while\x20contacting\x20Gemini\x20API:\x20','Server\x20configuration\x20error:\x20Gemini\x20API\x20Key\x20not\x20found.\x20Please\x20ensure\x20GEMINI_API_KEY\x20is\x20set\x20in\x20Vercel\x20environment\x20variables.'];a0_0x2465=function(){return _0x29f842;};return a0_0x2465();}(function(_0x16d2a2,_0x34eff7){const _0xbe88ac=a0_0x412e,_0x4834e3=_0x16d2a2();while(!![]){try{const _0x3b7d8b=-parseInt(_0xbe88ac(0xd6))/0x1+parseInt(_0xbe88ac(0xdd))/0x2*(parseInt(_0xbe88ac(0xcd))/0x3)+-parseInt(_0xbe88ac(0xc3))/0x4*(-parseInt(_0xbe88ac(0xc4))/0x5)+-parseInt(_0xbe88ac(0xd4))/0x6+parseInt(_0xbe88ac(0xd7))/0x7+parseInt(_0xbe88ac(0xc6))/0x8+parseInt(_0xbe88ac(0xbf))/0x9;if(_0x3b7d8b===_0x34eff7)break;else _0x4834e3['push'](_0x4834e3['shift']());}catch(_0x1bb4d0){_0x4834e3['push'](_0x4834e3['shift']());}}}(a0_0x2465,0x2b528));export default async function handler(_0x4ce705,_0x50b48c){const _0xe78a96=a0_0x412e;if(_0x4ce705[_0xe78a96(0xc5)]!==_0xe78a96(0xd0))return _0x50b48c[_0xe78a96(0xc2)](0x195)[_0xe78a96(0xcb)]({'message':_0xe78a96(0xdc),'success':![]});const {message:_0x5330c3}=_0x4ce705[_0xe78a96(0xbd)];if(!_0x5330c3)return _0x50b48c[_0xe78a96(0xc2)](0x190)[_0xe78a96(0xcb)]({'message':_0xe78a96(0xcf),'success':![]});const _0x486a72=process['env'][_0xe78a96(0xc7)],_0x3a4b5f='gemini-2.0-flash';if(!_0x486a72)return console[_0xe78a96(0xc8)](_0xe78a96(0xc0)),_0x50b48c['status'](0x1f4)['json']({'message':_0xe78a96(0xdb),'success':![]});try{const _0x2dc54f=[{'role':'user','parts':[{'text':_0x5330c3}]}],_0x14d0e3={'contents':_0x2dc54f},_0xca0f3b=_0xe78a96(0xd2)+_0x3a4b5f+_0xe78a96(0xde)+_0x486a72,_0x18e305=await fetch(_0xca0f3b,{'method':_0xe78a96(0xd0),'headers':{'Content-Type':'application/json'},'body':JSON[_0xe78a96(0xc9)](_0x14d0e3)}),_0x48a1b1=await _0x18e305[_0xe78a96(0xcb)]();if(!_0x18e305['ok'])return console[_0xe78a96(0xc8)]('Serverless\x20Function:\x20Gemini\x20API\x20returned\x20a\x20non-OK\x20status.\x20Status:',_0x18e305['status'],'Response:',JSON['stringify'](_0x48a1b1)),_0x50b48c[_0xe78a96(0xc2)](_0x18e305[_0xe78a96(0xc2)])['json']({'message':_0xe78a96(0xbc),'success':![],'details':_0x48a1b1});if(_0x48a1b1[_0xe78a96(0xca)]&&_0x48a1b1[_0xe78a96(0xca)][_0xe78a96(0xbe)]>0x0&&_0x48a1b1['candidates'][0x0][_0xe78a96(0xd3)]&&_0x48a1b1[_0xe78a96(0xca)][0x0][_0xe78a96(0xd3)][_0xe78a96(0xd5)]&&_0x48a1b1['candidates'][0x0][_0xe78a96(0xd3)][_0xe78a96(0xd5)][_0xe78a96(0xbe)]>0x0){const _0x7f3503=_0x48a1b1[_0xe78a96(0xca)][0x0][_0xe78a96(0xd3)][_0xe78a96(0xd5)][0x0][_0xe78a96(0xd9)];return _0x50b48c[_0xe78a96(0xc2)](0xc8)[_0xe78a96(0xcb)]({'text':_0x7f3503,'success':!![]});}else return console[_0xe78a96(0xc1)](_0xe78a96(0xce),JSON[_0xe78a96(0xc9)](_0x48a1b1)),_0x50b48c[_0xe78a96(0xc2)](0x1f6)['json']({'message':_0xe78a96(0xd1),'success':![],'details':_0x48a1b1});}catch(_0x154fa4){return console[_0xe78a96(0xc8)](_0xe78a96(0xd8),_0x154fa4),_0x50b48c[_0xe78a96(0xc2)](0x1f4)[_0xe78a96(0xcb)]({'message':_0xe78a96(0xda)+_0x154fa4[_0xe78a96(0xcc)],'success':![]});}}