(function(_0x57af49,_0x3ea6c3){const _0x27aca8=a0_0x2066,_0x1bc736=_0x57af49();while(!![]){try{const _0x4e8195=parseInt(_0x27aca8(0x140))/0x1+parseInt(_0x27aca8(0x126))/0x2*(parseInt(_0x27aca8(0x12d))/0x3)+-parseInt(_0x27aca8(0x12f))/0x4*(parseInt(_0x27aca8(0x136))/0x5)+parseInt(_0x27aca8(0x137))/0x6*(parseInt(_0x27aca8(0x13c))/0x7)+-parseInt(_0x27aca8(0x13e))/0x8+parseInt(_0x27aca8(0x143))/0x9+-parseInt(_0x27aca8(0x145))/0xa;if(_0x4e8195===_0x3ea6c3)break;else _0x1bc736['push'](_0x1bc736['shift']());}catch(_0x44d730){_0x1bc736['push'](_0x1bc736['shift']());}}}(a0_0xded1,0x71037));export default async function handler(_0x2f7399,_0x3550fb){const _0x3fb410=a0_0x2066;if(_0x2f7399[_0x3fb410(0x127)]!==_0x3fb410(0x12c))return _0x3550fb[_0x3fb410(0x12a)](0x195)['json']({'message':_0x3fb410(0x142),'success':![]});const {message:_0x54d42b}=_0x2f7399[_0x3fb410(0x134)];if(!_0x54d42b)return _0x3550fb[_0x3fb410(0x12a)](0x190)[_0x3fb410(0x13d)]({'message':_0x3fb410(0x132),'success':![]});const _0x4bc7df=process[_0x3fb410(0x147)]['GEMINI_API_KEY'],_0x15d925=_0x3fb410(0x141);if(!_0x4bc7df)return console[_0x3fb410(0x135)](_0x3fb410(0x13f)),_0x3550fb[_0x3fb410(0x12a)](0x1f4)['json']({'message':_0x3fb410(0x144),'success':![]});try{const _0x335886=[{'role':_0x3fb410(0x138),'parts':[{'text':_0x54d42b}]}],_0x5ccfa4={'contents':_0x335886},_0x1243ff=_0x3fb410(0x130)+_0x15d925+':generateContent?key='+_0x4bc7df,_0x10c0db=await fetch(_0x1243ff,{'method':_0x3fb410(0x12c),'headers':{'Content-Type':'application/json'},'body':JSON[_0x3fb410(0x13b)](_0x5ccfa4)}),_0x266ec2=await _0x10c0db[_0x3fb410(0x13d)]();if(!_0x10c0db['ok'])return console[_0x3fb410(0x135)]('Serverless\x20Function:\x20Gemini\x20API\x20returned\x20a\x20non-OK\x20status.\x20Status:',_0x10c0db[_0x3fb410(0x12a)],_0x3fb410(0x12b),JSON[_0x3fb410(0x13b)](_0x266ec2)),_0x3550fb[_0x3fb410(0x12a)](_0x10c0db['status'])[_0x3fb410(0x13d)]({'message':'Error\x20from\x20Gemini\x20API.','success':![],'details':_0x266ec2});if(_0x266ec2[_0x3fb410(0x12e)]&&_0x266ec2[_0x3fb410(0x12e)][_0x3fb410(0x13a)]>0x0&&_0x266ec2[_0x3fb410(0x12e)][0x0]['content']&&_0x266ec2[_0x3fb410(0x12e)][0x0][_0x3fb410(0x133)]['parts']&&_0x266ec2[_0x3fb410(0x12e)][0x0][_0x3fb410(0x133)][_0x3fb410(0x131)][_0x3fb410(0x13a)]>0x0){const _0x140145=_0x266ec2[_0x3fb410(0x12e)][0x0][_0x3fb410(0x133)][_0x3fb410(0x131)][0x0][_0x3fb410(0x128)];return _0x3550fb[_0x3fb410(0x12a)](0xc8)['json']({'text':_0x140145,'success':!![]});}else return console['warn']('Serverless\x20Function:\x20Gemini\x20API\x20returned\x20a\x20successful\x20status\x20(OK)\x20but\x20an\x20unexpected\x20response\x20structure:',JSON['stringify'](_0x266ec2)),_0x3550fb[_0x3fb410(0x12a)](0x1f6)['json']({'message':_0x3fb410(0x129),'success':![],'details':_0x266ec2});}catch(_0x44b8af){return console['error'](_0x3fb410(0x139),_0x44b8af),_0x3550fb[_0x3fb410(0x12a)](0x1f4)['json']({'message':_0x3fb410(0x146)+_0x44b8af[_0x3fb410(0x125)],'success':![]});}}function a0_0x2066(_0x2ddba1,_0x19b299){const _0xded1b0=a0_0xded1();return a0_0x2066=function(_0x2066bd,_0x2c5659){_0x2066bd=_0x2066bd-0x125;let _0x394fbb=_0xded1b0[_0x2066bd];return _0x394fbb;},a0_0x2066(_0x2ddba1,_0x19b299);}function a0_0xded1(){const _0x5ed9d4=['stringify','73003gHGnTb','json','1555984vOAixm','Serverless\x20Function\x20Error:\x20GEMINI_API_KEY\x20environment\x20variable\x20is\x20not\x20set\x20on\x20Vercel.','116792OnhVYU','gemini-2.0-flash','Method\x20Not\x20Allowed','4642920qfstBW','Server\x20configuration\x20error:\x20Gemini\x20API\x20Key\x20not\x20found.\x20Please\x20ensure\x20GEMINI_API_KEY\x20is\x20set\x20in\x20Vercel\x20environment\x20variables.','5264530mkiEKB','An\x20internal\x20server\x20error\x20occurred\x20while\x20contacting\x20Gemini\x20API:\x20','env','message','58906qoKAQJ','method','text','Failed\x20to\x20get\x20a\x20valid\x20response\x20from\x20Gemini\x20AI.\x20Unexpected\x20response\x20structure.','status','Response:','POST','48lPSoCF','candidates','4WzWbEt','https://generativelanguage.googleapis.com/v1beta/models/','parts','Message\x20content\x20is\x20required.','content','body','error','3876220vSencL','492lBsrrZ','user','Serverless\x20Function\x20Error:\x20Exception\x20during\x20Gemini\x20API\x20call:','length'];a0_0xded1=function(){return _0x5ed9d4;};return a0_0xded1();}