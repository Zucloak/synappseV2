(function(_0x1d522a,_0x35aece){const _0x8d9fb3=a0_0x4f54,_0x2bc46b=_0x1d522a();while(!![]){try{const _0xe33d10=parseInt(_0x8d9fb3(0x195))/0x1*(parseInt(_0x8d9fb3(0x1a3))/0x2)+-parseInt(_0x8d9fb3(0x194))/0x3*(-parseInt(_0x8d9fb3(0x1b6))/0x4)+parseInt(_0x8d9fb3(0x1ad))/0x5*(parseInt(_0x8d9fb3(0x1ac))/0x6)+parseInt(_0x8d9fb3(0x192))/0x7+parseInt(_0x8d9fb3(0x198))/0x8+parseInt(_0x8d9fb3(0x1a8))/0x9+parseInt(_0x8d9fb3(0x1a4))/0xa*(-parseInt(_0x8d9fb3(0x1a6))/0xb);if(_0xe33d10===_0x35aece)break;else _0x2bc46b['push'](_0x2bc46b['shift']());}catch(_0x48dd93){_0x2bc46b['push'](_0x2bc46b['shift']());}}}(a0_0x408b,0xcbaca));function a0_0x4f54(_0x2edf67,_0x2a15a2){const _0x408b9d=a0_0x408b();return a0_0x4f54=function(_0x4f5489,_0x2e059d){_0x4f5489=_0x4f5489-0x192;let _0x130373=_0x408b9d[_0x4f5489];return _0x130373;},a0_0x4f54(_0x2edf67,_0x2a15a2);}function a0_0x408b(){const _0x2b401c=['Serverless\x20Function\x20Error:\x20GEMINI_API_KEY\x20environment\x20variable\x20is\x20not\x20set\x20on\x20Vercel.','gemini-2.0-flash','GEMINI_API_KEY','716nzHZap','10LIpYka','user','72764043Rqisvy','application/json','14822199CDaIPF','POST','Serverless\x20Function:\x20Gemini\x20API\x20returned\x20a\x20non-OK\x20status.\x20Status:','Failed\x20to\x20get\x20a\x20valid\x20response\x20from\x20Gemini\x20AI.\x20Unexpected\x20response\x20structure.','19410CBrsKJ','2335YKxMzQ','Serverless\x20Function\x20Error:\x20Exception\x20during\x20Gemini\x20API\x20call:','json','Server\x20configuration\x20error:\x20Gemini\x20API\x20Key\x20not\x20found.\x20Please\x20ensure\x20GEMINI_API_KEY\x20is\x20set\x20in\x20Vercel\x20environment\x20variables.','env','https://generativelanguage.googleapis.com/v1beta/models/','error','candidates','length','5122308mJuWAM','11152232SHtYIJ','stringify','3vdHtcb','793Lmffqc','An\x20internal\x20server\x20error\x20occurred\x20while\x20contacting\x20Gemini\x20API:\x20','content','9070880WMxvIb','Serverless\x20Function:\x20Gemini\x20API\x20returned\x20a\x20successful\x20status\x20(OK)\x20but\x20an\x20unexpected\x20response\x20structure:','warn','text','Error\x20from\x20Gemini\x20API.','status','parts','Method\x20Not\x20Allowed'];a0_0x408b=function(){return _0x2b401c;};return a0_0x408b();}export default async function handler(_0x422751,_0x591845){const _0x5a5098=a0_0x4f54;if(_0x422751['method']!=='POST')return _0x591845[_0x5a5098(0x19d)](0x195)['json']({'message':_0x5a5098(0x19f),'success':![]});const {message:_0x251c90}=_0x422751['body'];if(!_0x251c90)return _0x591845[_0x5a5098(0x19d)](0x190)[_0x5a5098(0x1af)]({'message':'Message\x20content\x20is\x20required.','success':![]});const _0x33b509=process[_0x5a5098(0x1b1)][_0x5a5098(0x1a2)],_0x157e8e=_0x5a5098(0x1a1);if(!_0x33b509)return console[_0x5a5098(0x1b3)](_0x5a5098(0x1a0)),_0x591845['status'](0x1f4)[_0x5a5098(0x1af)]({'message':_0x5a5098(0x1b0),'success':![]});try{const _0x6aa173=[{'role':_0x5a5098(0x1a5),'parts':[{'text':_0x251c90}]}],_0x31ba42={'contents':_0x6aa173},_0x385c71=_0x5a5098(0x1b2)+_0x157e8e+':generateContent?key='+_0x33b509,_0x52e31c=await fetch(_0x385c71,{'method':_0x5a5098(0x1a9),'headers':{'Content-Type':_0x5a5098(0x1a7)},'body':JSON[_0x5a5098(0x193)](_0x31ba42)}),_0x5b87c3=await _0x52e31c['json']();if(!_0x52e31c['ok'])return console[_0x5a5098(0x1b3)](_0x5a5098(0x1aa),_0x52e31c[_0x5a5098(0x19d)],'Response:',JSON[_0x5a5098(0x193)](_0x5b87c3)),_0x591845[_0x5a5098(0x19d)](_0x52e31c[_0x5a5098(0x19d)])['json']({'message':_0x5a5098(0x19c),'success':![],'details':_0x5b87c3});if(_0x5b87c3['candidates']&&_0x5b87c3['candidates'][_0x5a5098(0x1b5)]>0x0&&_0x5b87c3[_0x5a5098(0x1b4)][0x0][_0x5a5098(0x197)]&&_0x5b87c3[_0x5a5098(0x1b4)][0x0][_0x5a5098(0x197)][_0x5a5098(0x19e)]&&_0x5b87c3['candidates'][0x0][_0x5a5098(0x197)]['parts']['length']>0x0){const _0xfa24b7=_0x5b87c3[_0x5a5098(0x1b4)][0x0]['content'][_0x5a5098(0x19e)][0x0][_0x5a5098(0x19b)];return _0x591845[_0x5a5098(0x19d)](0xc8)[_0x5a5098(0x1af)]({'text':_0xfa24b7,'success':!![]});}else return console[_0x5a5098(0x19a)](_0x5a5098(0x199),JSON['stringify'](_0x5b87c3)),_0x591845['status'](0x1f6)[_0x5a5098(0x1af)]({'message':_0x5a5098(0x1ab),'success':![],'details':_0x5b87c3});}catch(_0x9aa277){return console[_0x5a5098(0x1b3)](_0x5a5098(0x1ae),_0x9aa277),_0x591845[_0x5a5098(0x19d)](0x1f4)[_0x5a5098(0x1af)]({'message':_0x5a5098(0x196)+_0x9aa277['message'],'success':![]});}}