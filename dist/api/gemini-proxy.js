function a0_0x2900(){const _0x15e57c=['42576655yRlvQK','Method\x20Not\x20Allowed','env','3130071RZgxvB','POST','GEMINI_API_KEY','content','length','Serverless\x20Function\x20Error:\x20Exception\x20during\x20Gemini\x20API\x20call:','candidates','95Thacrv','2jWGjFe','warn','json','user','296mQxjPD','67024uZDqDK','text','https://generativelanguage.googleapis.com/v1beta/models/','Failed\x20to\x20get\x20a\x20valid\x20response\x20from\x20Gemini\x20AI.\x20Unexpected\x20response\x20structure.','Error\x20from\x20Gemini\x20API.','150899Dzzlqo','414978xXGdyU','207LtMRqG','parts','stringify','status','gemini-2.0-flash','message','277590VanjdI','Message\x20content\x20is\x20required.','Serverless\x20Function:\x20Gemini\x20API\x20returned\x20a\x20successful\x20status\x20(OK)\x20but\x20an\x20unexpected\x20response\x20structure:','error','4320212PdhOIe','body'];a0_0x2900=function(){return _0x15e57c;};return a0_0x2900();}(function(_0x548ed3,_0x448b3e){const _0x3045b5=a0_0xf034,_0x4e4c40=_0x548ed3();while(!![]){try{const _0x138e83=-parseInt(_0x3045b5(0xa9))/0x1*(-parseInt(_0x3045b5(0xae))/0x2)+-parseInt(_0x3045b5(0xa1))/0x3+-parseInt(_0x3045b5(0x9c))/0x4+-parseInt(_0x3045b5(0xa8))/0x5*(parseInt(_0x3045b5(0xb4))/0x6)+-parseInt(_0x3045b5(0xb3))/0x7*(-parseInt(_0x3045b5(0xad))/0x8)+-parseInt(_0x3045b5(0xb5))/0x9*(parseInt(_0x3045b5(0xbb))/0xa)+parseInt(_0x3045b5(0x9e))/0xb;if(_0x138e83===_0x448b3e)break;else _0x4e4c40['push'](_0x4e4c40['shift']());}catch(_0x50f02f){_0x4e4c40['push'](_0x4e4c40['shift']());}}}(a0_0x2900,0xa0f4a));function a0_0xf034(_0x23c7a8,_0x291245){const _0x29003b=a0_0x2900();return a0_0xf034=function(_0xf0349,_0x199be1){_0xf0349=_0xf0349-0x9a;let _0xd9c439=_0x29003b[_0xf0349];return _0xd9c439;},a0_0xf034(_0x23c7a8,_0x291245);}export default async function handler(_0x2a653d,_0x26ff12){const _0x4d53db=a0_0xf034;if(_0x2a653d['method']!==_0x4d53db(0xa2))return _0x26ff12[_0x4d53db(0xb8)](0x195)[_0x4d53db(0xab)]({'message':_0x4d53db(0x9f),'success':![]});const {message:_0x297151}=_0x2a653d[_0x4d53db(0x9d)];if(!_0x297151)return _0x26ff12[_0x4d53db(0xb8)](0x190)[_0x4d53db(0xab)]({'message':_0x4d53db(0xbc),'success':![]});const _0x32feb3=process[_0x4d53db(0xa0)][_0x4d53db(0xa3)],_0x465083=_0x4d53db(0xb9);if(!_0x32feb3)return console[_0x4d53db(0x9b)]('Serverless\x20Function\x20Error:\x20GEMINI_API_KEY\x20environment\x20variable\x20is\x20not\x20set\x20on\x20Vercel.'),_0x26ff12[_0x4d53db(0xb8)](0x1f4)[_0x4d53db(0xab)]({'message':'Server\x20configuration\x20error:\x20Gemini\x20API\x20Key\x20not\x20found.\x20Please\x20ensure\x20GEMINI_API_KEY\x20is\x20set\x20in\x20Vercel\x20environment\x20variables.','success':![]});try{const _0x1136be=[{'role':_0x4d53db(0xac),'parts':[{'text':_0x297151}]}],_0x3dd761={'contents':_0x1136be},_0x617754=_0x4d53db(0xb0)+_0x465083+':generateContent?key='+_0x32feb3,_0x1eebd3=await fetch(_0x617754,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x4d53db(0xb7)](_0x3dd761)}),_0x3c8f10=await _0x1eebd3[_0x4d53db(0xab)]();if(!_0x1eebd3['ok'])return console[_0x4d53db(0x9b)]('Serverless\x20Function:\x20Gemini\x20API\x20returned\x20a\x20non-OK\x20status.\x20Status:',_0x1eebd3[_0x4d53db(0xb8)],'Response:',JSON[_0x4d53db(0xb7)](_0x3c8f10)),_0x26ff12[_0x4d53db(0xb8)](_0x1eebd3[_0x4d53db(0xb8)])[_0x4d53db(0xab)]({'message':_0x4d53db(0xb2),'success':![],'details':_0x3c8f10});if(_0x3c8f10['candidates']&&_0x3c8f10[_0x4d53db(0xa7)][_0x4d53db(0xa5)]>0x0&&_0x3c8f10[_0x4d53db(0xa7)][0x0][_0x4d53db(0xa4)]&&_0x3c8f10['candidates'][0x0][_0x4d53db(0xa4)][_0x4d53db(0xb6)]&&_0x3c8f10[_0x4d53db(0xa7)][0x0][_0x4d53db(0xa4)]['parts'][_0x4d53db(0xa5)]>0x0){const _0xc05ede=_0x3c8f10[_0x4d53db(0xa7)][0x0][_0x4d53db(0xa4)]['parts'][0x0][_0x4d53db(0xaf)];return _0x26ff12['status'](0xc8)[_0x4d53db(0xab)]({'text':_0xc05ede,'success':!![]});}else return console[_0x4d53db(0xaa)](_0x4d53db(0x9a),JSON[_0x4d53db(0xb7)](_0x3c8f10)),_0x26ff12[_0x4d53db(0xb8)](0x1f6)['json']({'message':_0x4d53db(0xb1),'success':![],'details':_0x3c8f10});}catch(_0xad3ac3){return console[_0x4d53db(0x9b)](_0x4d53db(0xa6),_0xad3ac3),_0x26ff12[_0x4d53db(0xb8)](0x1f4)[_0x4d53db(0xab)]({'message':'An\x20internal\x20server\x20error\x20occurred\x20while\x20contacting\x20Gemini\x20API:\x20'+_0xad3ac3[_0x4d53db(0xba)],'success':![]});}}